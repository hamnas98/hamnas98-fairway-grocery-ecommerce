<footer class="py-4 bg-footer mt-auto">
    <div class="container-fluid">
        <div class="d-flex align-items-center justify-content-between small">
            <div class="text-muted-1">© 2024 <b>Fairway Supermarket</b>.</div>
            <div class="footer-links">
                <a href="/privacy-policy">Privacy Policy</a>
                <a href="/terms-conditions">Terms &amp; Conditions</a>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

<!-- Scripts -->
<script src="/admin/js/jquery.min.js"></script>
<script src="/admin/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/admin/vendor/chart/highcharts.js"></script>
<script src="/admin/vendor/chart/exporting.js"></script>
<script src="/admin/vendor/chart/export-data.js"></script>
<script src="/admin/vendor/chart/accessibility.js"></script>
<script src="/admin/js/scripts.js"></script>
<script src="/admin/js/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
// Logout functionality
document.getElementById('logoutBtn').addEventListener('click', async function(e) {
e.preventDefault();

try {
const response = await fetch('/admin/logout', {
    method: 'GET',
    headers: {
        'Content-Type': 'application/json'
    }
});

const data = await response.json();

if (data.success) {
    Swal.fire({
        icon: 'success',
        title: 'Logged Out Successfully',
        showConfirmButton: false,
        timer: 1500
    }).then(() => {
        window.location.href = data.redirectUrl;
    });
} else {
    Swal.fire({
        icon: 'error',
        title: 'Logout Failed',
        text: data.message
    });
}
} catch (error) {
console.error('Logout error:', error);
Swal.fire({
    icon: 'error',
    title: 'Error',
    text: 'Something went wrong. Please try again.'
});
}
});

// Load dashboard data
async function loadDashboardData() {
try {
const response = await fetch('/admin/api/dashboard-data');
const data = await response.json();

if (data.success) {
    document.getElementById('pendingOrders').textContent = data.pendingOrders;
    document.getElementById('cancelledOrders').textContent = data.cancelledOrders;
    document.getElementById('processingOrders').textContent = data.processingOrders;
    document.getElementById('todayIncome').textContent = '₹' + data.todayIncome.toFixed(2);
}
} catch (error) {
console.error('Error loading dashboard data:', error);
}
}

// Load dashboard data on page load
loadDashboardData();
</script>
</body>
</html>