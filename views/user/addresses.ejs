<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, shrink-to-fit=9">
		<meta name="description" content="Gambolthemes">
		<meta name="author" content="Gambolthemes">		
		<title>Fairway Supermarket</title>
		
		<!-- Favicon Icon -->
		<link rel="icon" type="image/png" href="images/fav.png">
		
		<!-- Stylesheets -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<link  href="/user/css/address.css"  rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
		<link href='/user/vendor/unicons-2.0.1/css/unicons.css' rel='stylesheet'>
		<link href="/user/css/style.css" rel="stylesheet">
		<link href="/user/css/responsive.css" rel="stylesheet">
		<link href="/user/css/night-mode.css" rel="stylesheet">
		<link href="/user/css/customstyle.css" rel="stylesheet">
		<link  href="/user/css/signupmodals.css"  rel="stylesheet">
        <link  href="/user/css/editProfileModal.css"  rel="stylesheet">
		
		<!-- Vendor Stylesheets -->
		<link href="/user/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
		<link href="/user/vendor/OwlCarousel/assets/owl.carousel.css" rel="stylesheet">
		<link href="/user/vendor/OwlCarousel/assets/owl.theme.default.min.css" rel="stylesheet">
		<link href="/user/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link href="/user/vendor/bootstrap-select/css/bootstrap-select.min.css" rel="stylesheet">	
        
		
		
	</head>


	<body>
		
		
	<!-- Add Address Model End-->
		<%- include('../partials/user/header', { parentCategories: parentCategories }) %>
		<%- include('../partials/user/addAddressModel') %>

		
		<!-- Header End -->
	
		<!-- Body Start -->
        <%- include('../partials/user/dashboardOverview') %>
		<div class="col-xl-9 col-lg-8 col-md-12">
			<div class="dashboard-right">
				<div class="row">
					<div class="col-md-12">
						<div class="main-title-tab">
							<h4><i class="uil uil-location-point"></i>My Address</h4>
						</div>
					</div>
					<div class="col-lg-12 col-md-12">
						<div class="pdpt-bg">
							<div class="pdpt-title">
								<h4>My Address</h4>
							</div>
							<div class="address-body">
								<a href="#" class="add-address hover-btn" data-bs-toggle="modal" data-bs-target="#address_model">Add New Address</a>
								<% if(addresses && addresses.length > 0) { %>
									<% addresses.forEach(address => { %>
									<div class="address-item">
										<div class="address-icon1">
											<i class="uil uil-map-marker"></i>
										</div>
										<div class="address-dt-all">
											<div class="address-header">
												<h4>
													<%= address.name %>
													<span class="address-type-badge <%= address.addressType.toLowerCase() %>">
														<%= address.addressType %>
													</span>
													<% if(address.isDefault) { %>
														<span class="default-badge">Default</span>
													<% } %>
												</h4>
											</div>
											<div class="address-details">
												<p class="contact-info">
													<i class="uil uil-phone-alt"></i> <%= address.mobile %>
												</p>
												<p class="address-text">
													<%= address.flat %>,
													<%= address.addressLine %>,<br>
													<%= address.city %>,
													<%= address.state %> - <%= address.pincode %>
												</p>
											</div>
											<div class="address-actions">
												<ul class="action-btns">
													<button class="edit-btn" onclick="editAddress('<%= address._id %>')">
														<i class="uil uil-edit"></i>
														Edit
													</button>
													<button class="delete-btn" onclick="deleteAddress('<%= address._id %>')">
														<i class="uil uil-trash-alt"></i>
														Delete
													</button>
													<% if(!address.isDefault) { %>
														<button class="default-btn" onclick="setDefaultAddress('<%= address._id %>')">
															<i class="uil uil-check"></i>
															Set as Default
														</button>
													<% } %>
												</ul>
											</div>
										</div>
									</div>
									<% }); %>
								<% } else { %>
									<div class="no-address">
										<div class="icon">
											<i class="uil uil-map-marker"></i>
										</div>
										<p>No addresses found. Add a new address to get started.</p>
									</div>
								<% } %>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
     
        
        <%- include('../partials/user/resetResetModal') %>

        


	<!-- Javascripts -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="/user/js/jquery.min.js"></script>
	<script src="/user/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="/user/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>	
	<script src="/user/vendor/OwlCarousel/owl.carousel.js"></script>
	<script src="/user/js/jquery.countdown.min.js"></script>
	<script src="/user/js/custom.js"></script>
	<script src="/user/js/offset_overlay.js"></script>
	<script src="/user/js/night-mode.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="/user/js/editReset.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
	<script src="/user/js/address.js"></script>

</body>
</html>